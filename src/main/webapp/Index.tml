
<html t:type="layout" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd" xmlns:p="tapestry:parameter">
		
    <t:delegate to="userCtx" />

	<!-- Block displayed when there is logged user or a profile requested -->    
    <t:block id="userBlock">
    	<section id="author-info" class="radied-box">
    		<h1>${user.username} <em>(${user.fullname})</em></h1>
    		<div id="author-description"> 
	    		<p class="first-row">
	    			<span class="label">Name</span><span class="value">${user.username}</span>
	    		</p>
	    		<p>
	    			<span class="label">Email</span><span class="value">${user.email}</span>
	    		</p>
	    		<p>
	    			<span class="label">Member since</span><span class="value">${user.creationDate}</span>
	    		</p>
    		</div>
    	</section>
        <t:activity.feed t:userId="user?.id" t:type="prop:activityType" t:title="Public Activity"/>
    	<section id="author-feed" class="radied-box">
            <h1>${user.username}'s books</h1>
            <ol>
            	<t:loop source="userBooks" value="currentBook" t:empty="block:noBooks">
                    <li>
                    	<a t:type="pagelink" t:page="book/index" t:context="currentBook.id">${currentBook.title}</a>
            		</li>
            	</t:loop>
            </ol>
    	</section>
    </t:block>          

	<!-- Block displayed in the index default page -->
    <t:block id="presBlock">
            <section id="presentation" class="radied-box">
                <p>Wooki is a fantastic tool to write and publish documents with the possibility of letting others reviewing it.</p>
                <p>Read them directly on the website, as a PDF ebook, or on your SmartPhone. We really want to make your writing as accessible as possible. </p>
                
                 <t:pagelink t:page="signup" class="radied-box active-button">
                        <p>Signup in 30 seconds.<br />
                        <em>Create and review documents now</em></p>
                </t:pagelink>
        </section>
		<t:activity.feed t:userId="user?.id" t:type="prop:activityType"/>
    </t:block>
    
    <t:block id="noBooks">
    	<li>No books available</li>
    </t:block>
    
</html>
